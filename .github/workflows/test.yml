name: 测试 Setup Git 和网络连接
on: workflow_dispatch
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: 检出代码
        uses: actions/checkout@v3
      - name: 设置 Git
        uses: actions/setup-git@v2
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
      - name: 测试 GitHub API 访问
        run: curl -H "Accept: application/vnd.github+json" -H "Authorization: token ${{ secrets.GITHUB_TOKEN }}" https://api.github.com/user
      - name: 打印 Git 版本
        run: git --version
